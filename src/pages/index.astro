---
import '@fontsource/bruno-ace-sc';
import '@fontsource/outfit';

import Step from '../components/Step.astro';
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Apex</title>
	</head>
	<body>
		<div class="bg-gradient-to-br from-[#112349] via-[#3C7BCE] to-[#88AFD0] w-full min-h-screen text-white flex flex-col justify-start items-center">
      <div class="pt-24">
        <h1 class="text-center text-7xl font-display leading-normal">Apex</h1>
        <p class="text-center text-2xl mx-10">A 3 month journey to launch projects on high-altitude balloons in Boston.</p>
      </div>

      <div class="flex flex-col justify-start items-center w-2/3 md:w-1/3 gap-10 py-24">
        <Step num={1} date={new Date("2025-02-28")} title="Registration deadline" desc="Signing up for Apex is free - you just need a team of fellow teens ready to dive into making a project for Apex!" action={{
          text: "Sign Up",
          link: "#"
        }} />
        <Step num={2} date={new Date("2025-03-23")} title="Submit proposal" desc="Finalize your ideas and designs and submit them to the Apex team for review." action={{
          text: "Resources",
          link: "/resources"
        }} />
        <Step num={3} date={new Date("2025-04-30")} title="Build your project" desc="After prototyping and iteration, put together the project that will launch on the HAB and ship it to the launch location!" />
        <Step num={4} date={new Date("2025-05-10")} title="LAUNCH!" desc="Head over to Boston, MA to see your project launch, and then recover it and analyze the results!" />
      </div>

      <div class="bg-lessblue w-full py-20 flex justify-center">
        <div class="flex flex-col justify-start items-start w-2/3 md:w-1/2 gap-10">
          <h2 class="font-display text-4xl text-center w-full">QUESTIONS</h2>
          <div class="flex flex-col justify-start items-start gap-2">
            <p class="font-bold text-2xl">What's a high altitude balloon?</p>
            <p class="text-lg">
              lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum 
              lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum 
            </p>
          </div> 

          <div class="flex flex-col justify-start items-start gap-2">
            <p class="font-bold text-2xl">Do I need experience to sign up?</p>
            <p class="text-lg">
              Nope! Apex is open to all teenagers interested in launching projects on high altitude balloons.
            </p>
          </div>

          <a class="self-center border-2 my-2 px-10 py-4 text-3xl border-white bg-apexblue font-semibold" href="#">Sign Up</a>
        </div>
      </div>

      <div class="bg-apexblue w-full p-10">
        <p class="text-center text-xl">This website is open-source at <a href="https://github.com/apexhacks2025/website" class="underline">apexhacks2025/website</a>.</p><br/>
        <p class="text-center text-xl">Apex is fiscally sponsored by The Hack Foundation (d.b.a. Hack Club), a 501(c)(3) nonprofit (EIN: 81-2908499). any donations you make to Apex are tax deductible.</p>
      </div>
    </div>

    <script>
      class ApexStep extends HTMLElement {
        connectedCallback() {
          console.log(this.id)
          const countdown = this.querySelector(`#countdown-${this.id}`);
          if (!countdown) return;
          const now = new Date();
          const diff = new Date(this.dataset.date ?? "").valueOf() - now.valueOf();
    
          if (diff < 0) {
            countdown.textContent = "";
            return;
          } else if (diff < 1000 * 60 * 60 * 24) {
            countdown.textContent = "Less than a day";
            return;
          } else if (diff < 1000 * 60 * 60 * 24 * 30) {
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            countdown.textContent = `${days} days`;
          } else {
            const months = Math.floor(diff / (1000 * 60 * 60 * 24 * 30));
            countdown.textContent = `${months} months`;
          }
        }
      }
    
      customElements.define("apex-step", ApexStep);
    </script>
	</body>
</html>
